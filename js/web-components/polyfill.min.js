!function(){"use strict";var t=["template { display:none }","[data-control] { display:block; padding:0; margin:0; }","json-data[data-control]:not(:defined), is-loading:not(:defined), has-error:not(:defined), is-loaded:not(:defined) { display:block; }","image-gallery, markdown-content { display: block; }"].join("\n"),e=null,a=null,o={dataAttributes:function(t,e){e.forEach((function(e){var a=t.getAttribute(e);null!==a&&t.setAttribute("data-"+e,a)}))},jsonData:function(t){o.dataAttributes(t,["url","load-only-once","click-selector","transform-data"]);["is-loading","has-error","is-loaded"].forEach((function(e){var a=t.querySelector(e);if(a){var o=document.createElement("div");o.className=a.className,o.classList.add(e);var r=a.getAttribute("template-selector");for(r&&o.setAttribute("data-template-selector",r);a.firstChild;)o.appendChild(a.removeChild(a.firstChild));a.parentNode.replaceChild(o,a)}}))},dataList:function(t){o.dataAttributes(t,["template-selector","root-element","root-class","root-attr","error-class","template-returns-html","list-item-name"])},dataTable:function(t){o.dataAttributes(t,["highlight-class","labels","columns","table-attr","col-class","col-link-template","col-link-fields","row-item-name"])},dataView:function(t){o.dataAttributes(t,["template-selector","template-returns-html"])},imageGallery:function(t){t.setAttribute("data-image-gallery",t.getAttribute("image")),o.dataAttributes(t,["image-avif","image-webp"]);var e=t.getAttribute("title");if(null===e){var a=t.querySelector("img[alt]");a&&(e=a.getAttribute("alt"),t.setAttribute("title",e))}},inputFilter:function(t){o.dataAttributes(t,["filter-selector","filter-results-text-all","filter-results-text-filtered"]);var e=t.getAttribute("filter-results-selector");e&&t.setAttribute("data-filter-results-text-selector",e)},leafletMap:function(t){t.setAttribute("data-leaflet",""),o.dataAttributes(t,["latitude","longitude","zoom","marker"]);var e=t.getAttribute("data-bind-attr");e&&!e.includes("data-")&&(e=e.split(",").map((function(t){return"data-"+t.trim()})),t.setAttribute("data-bind-attr",e.join(", ")))},markdownContent:function(t){o.dataAttributes(t,["url","show-source","loading-selector","link-target","link-rel","link-root-url","load-only-once"])},navLinks:function(){var t='nav[is="spa-links"]',e=document.querySelector(t);if(e){var a=e.getAttribute("item-selector");a&&(app.plugins.navLinks.itemSelector=t+" "+a);var o=e.getAttribute("active-class");o&&(app.plugins.navLinks.activeClass=o)}}},r={model:{},onRendered:function(){var t=this,e=document.querySelector("url-router");e&&(e.currentRoute={path:app.activeController.path});var a=document.querySelectorAll("[url-param]");Array.prototype.forEach.call(a,(function(e){var a=e.getAttribute("url-param");void 0!==t[a]&&(e.textContent=t[a])})),a=document.querySelectorAll("[url-attr-param]"),Array.prototype.forEach.call(a,(function(e){app.plugins.dataBind.bindAttrTmpl(e,"url-attr-param",t)})),s(document,"app:routeChanged",{url:app.activeController&&app.activeController.path?app.activeController.path:null,urlParams:app.activeParameterList});var r=!1;app.activeJsControls.forEach((function(t){"json-data"===t.control&&(o.jsonData(t.element),app.loadJsControl(t),null===t.data.clickSelector&&(r=!0))})),r||l(document)},onRouteUnload:function(){"string"==typeof this.onunload&&i(this.onunload,"url-route","onunload")}},n=function(t){var e=(t||document).querySelectorAll(".old-browser-warning");Array.prototype.forEach.call(e,(function(t){var e=t.getAttribute("data-old-browser-warning");app.showError(t,e||"Thank you for visiting! However some features on this page require a newer Browser or OS than the one that you are currently using. If you have a different browser available then please open this page with it.")}))};function l(t){var r=[];[{name:"data-list",transform:o.dataList},{name:"data-table",transform:o.dataTable},{name:"data-view",transform:o.dataView},{name:"markdown-content",transform:o.markdownContent}].forEach((function(o){r.push(new Promise((function(r){var n=t.querySelectorAll(o.name);if(0!==n.length){var l=e+"controls/"+o.name+(a?".min":"")+".js";app.loadScripts(l).then((function(){Array.prototype.forEach.call(n,(function(t){o.transform(t),app.loadJsControl(t)})),r()}))}else r()})))})),Promise.all(r).finally((function(){app.loadAllJsControls(),document.querySelector("[data-bind]")&&app.plugins.dataBind.reload();var e=[];[{selector:".click-to-highlight",plugin:"clickToHighlight"},{selector:"[data-sort]",plugin:"sort"},{selector:'[is="spa-links"]',plugin:"navLinks",after:o.navLinks},{selector:'[is="input-filter"]',plugin:"filter",update:o.inputFilter},{selector:'[is="leaflet-map"]',plugin:"leaflet",update:o.leafletMap},{selector:"image-gallery",plugin:"imageGallery",update:o.imageGallery},{selector:"[data-enter-key-click-selector]",plugin:"keydownAction"},{selector:"prism-service",plugin:"prism"},{selector:"[data-export-csv-selector]",plugin:"exportToCsv"},{selector:"highlighter-service",plugin:"highlighter"},{selector:"filter-service",plugin:"filter"}].forEach((function(t){if(document.querySelector(t.selector)&&(void 0===typeof t.after?e.push(t.plugin):e.push({name:t.plugin,callback:t.after}),void 0!==t.update)){var a=document.querySelectorAll(t.selector);Array.prototype.forEach.call(a,(function(e){t.update(e)}))}})),e.forEach((function(t){"string"==typeof t?p(t):p(t.name,t.callback)})),s(t,"app:contentReady"),t!==document&&"json-data"===t.getAttribute("data-control")&&i(t.getAttribute("onready"),"json-data","onready")}))}function i(t,e,a){if(t)try{var o=new Function("return "+t)();"function"==typeof o&&o()}catch(o){app.showErrorAlert("Error from function <"+e+" "+a+'="'+t+'">: '+o.message),console.error(o)}}function s(t,e,a){var o;void 0===a?"function"==typeof Event?o=new Event(e,{bubbles:!0}):(o=document.createEvent("Event")).initEvent(e,!0,!1):"function"==typeof CustomEvent?o=new CustomEvent(e,{bubbles:!0,detail:a}):(o=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!1,a),t.dispatchEvent(o),"app:routeChanged"===e&&app.activeController&&app.activeController.settings&&app.activeController.settings.onload&&i(app.activeController.settings.onload,"url-route","onload")}function p(t,o){if(void 0!==app.plugins[t])return void 0!==o&&o(),void app.plugins[t].reload();var r=e+"plugins/"+t+(a?".min":"")+".js";app.loadScripts(r).then((function(){void 0!==app.plugins[t]?(void 0!==o&&o(),app.plugins[t].reload()):console.warn("Plugin ["+t+"] was loaded but not found. The script might still be loading in the DOM.")}))}function u(){var t=[app.loadScripts(e+"controls/json-data"+(a?".min":"")+".js"),app.loadScripts(e+"extensions/format"+(a?".min":"")+".js"),app.loadScripts(e+"extensions/jsTemplate"+(a?".min":"")+".js"),app.loadScripts(e+"plugins/dataBind"+(a?".min":"")+".js")],o=document.querySelector("i18n-service");if(o){t.push(app.loadScripts(e+"plugins/i18n"+(a?".min":"")+".js"));[{web:"default-locale",plugin:"data-i18n-default"},{web:"file",plugin:"data-i18n-file"},{web:"locales",plugin:"data-i18n-locales"},{web:"file-dir",plugin:"data-i18n-dir"}].forEach((function(t){var e=o.getAttribute(t.web);e&&document.documentElement.setAttribute(t.plugin,e)})),o.updateContent=function(t){app.plugins.i18n.onRendered(t)}}document.querySelector("show-errors-service")&&document.documentElement.setAttribute("data-show-errors","");var i=document.querySelector("html-import-service");i&&(i.refreshAllHtmlControls=function(t){app.refreshAllHtmlControls(t)},i.refreshHtmlControl=function(t,e){app.refreshHtmlControl(t,e)});var p=document.querySelector("prism-service");p&&(app.loadScripts(e+"plugins/prism"+(a?".min":"")+".js"),p.onLoad=function(t){app.plugins.prism.onRendered(t)}),Promise.all(t).finally((function(){app.controls["json-data"].onFetch=function(t,e){app.activeController&&app.activeController.modelName?e||app.deepClone(app.activeModel,this):app.activeModel=this,t.state=this,l(t)},app.addPlugin("oldBrowserWarning",n);var t=document.querySelector("url-router");null===t?(app.activeModel={},app.onUpdateViewComplete=function(){r.onRendered()},app.updateView(),app.cssVarsPonyfill()):(app.addPage("polyfillPage",r),function(t){function e(t,e){s(t,"app:error",e),s(t,"app:routeChanged",{url:app.activeController&&app.activeController.path?app.activeController.path:null,urlParams:app.activeParameterList}),app.showError(t,e),console.error(e)}if("history"===t.getAttribute("mode")&&document.documentElement.setAttribute("data-routing-mode","history"),app.settings.viewSelector=t.getAttribute("view-selector"),app.settings.lazyTemplateSelector=t.getAttribute("loading-template-selector"),null!==app.settings.viewSelector)if(null!==document.querySelector(app.settings.viewSelector)){if(t.changeRoute=function(t){app.changeRoute(t)},void 0!==window.lazyLoad)for(var a in window.lazyLoad)if(window.lazyLoad.hasOwnProperty(a)){var o=window.lazyLoad[a];Array.isArray(o)||"string"==typeof o?app.lazyLoad[a]=o:"string"==typeof o.nomodule?app.lazyLoad[a]=o.nomodule:"string"!=typeof o.module&&console.error("Unhandled window.lazyLoad Script: "+a)}var r=t.querySelectorAll("url-route"),n=0;Array.prototype.forEach.call(r,(function(a){var o=a.getAttribute("path");if(null===o)return e(t,"Error, element <"+a.tagName.toLowerCase()+"> is missing attribute [path]"),void console.log(a);null!==a.getAttribute("default-route")&&(app.settings.defaultRoute=o);var r=a.getAttribute("redirect");if(null===r){var l,i=a.getAttribute("src");if(null===i||""===i){i=void 0;var s=a.querySelector("template");if(null===s)return app.showErrorAlert("Missing <template> or [src] attribute for route <"+a.tagName.toLowerCase()+' path="'+o+'">.'),void console.log(a);s.id||(s.id="url-route-template-"+n+"-"+(new Date).getTime(),n++),l=s.id}var p={lazyLoad:[],onload:a.getAttribute("onload"),onunload:a.getAttribute("onunload")},u=a.getAttribute("lazy-load");null!==u&&(u=u.split(",").map((function(t){return t.trim()})),p.lazyLoad=u.filter((function(t){return void 0!==app.lazyLoad[t]})).join(", ")),0===Object.keys(p.lazyLoad).length&&delete p.lazyLoad,null===p.onload&&delete p.onload,null===p.onunload&&delete p.onunload;var d=["route","page","model","src","engine"];for(var c in a.dataset)if(-1===d.indexOf(c)){var f=a.dataset[c];switch(f){case"true":case"":p[c]=!0;break;case"false":p[c]=!1;break;case"null":p[c]=null;break;default:p[c]=f}}0===Object.keys(p).length&&(p=void 0),app.addController({path:o,viewId:l,viewUrl:i,viewEngine:"Text",pageType:"polyfillPage",settings:p})}else app.addController({path:o,onRendered:function(){app.changeRoute(this.redirect)},settings:{redirect:r}})})),app.setup()}else e(t,'Error, element from <url-router view-selector="'+app.escapeHtml(app.settings.viewSelector)+'"> was not found on the page.');else e(t,"Error, element <"+t.tagName.toLowerCase()+"> is missing attribute [view-selector]")}(t))}))}document.addEventListener("DOMContentLoaded",(function(){if(window.customElements&&(window.customElements.get("url-router")||window.customElements.get("json-data")||window.customElements.get("sortable-table")))console.warn("It appears that both DataFormsJS Web Components and [polyfill.js] are loaded. Because of this [polyfill.js] will not run.");else{window.usingWebComponentsPolyfill=!0;var o=null;void 0!==window.app&&"object"==typeof window.app.plugins&&void 0===window.DataFormsJS&&(o=window.app.plugins,delete window.app),function(){if("string"==typeof window.dataformsjsUrl)return e=window.dataformsjsUrl,void(a=!1!==window.dataformsjsMinFiles);for(var t=["/web-components/polyfill.min.js","/web-components/polyfill.js"],o=0;o<2;o++){var r,n=document.querySelector('script[src$="'+t[o]+'"]');if(n)return r=n.getAttribute("src"),e=r.substr(0,r.length-t[o].length+1),void(a=0===o)}e="https://cdn.jsdelivr.net/npm/dataformsjs@latest/js/",a=!0}(),function(t,e){var a=document.createElement("script");a.onload=e,a.onerror=function(){console.error("Error loading Script: "+t),e()},a.src=t,document.head.appendChild(a)}(e+"DataFormsJS"+(a?".min":"")+".js",(function(){if(app.viewEngine("Text"),app.loadCss("web-components-polyfill-css",t),null!==o)for(var e in o)o.hasOwnProperty(e)&&app.addPlugin(e,o[e]);var a=!!(Array.from&&window.Promise&&window.fetch&&Promise.prototype.finally);app.loadScript(a,app.settings.polyfillUrl,u)}))}}))}();